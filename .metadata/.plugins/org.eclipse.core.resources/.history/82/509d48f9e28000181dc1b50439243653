 <%@ page language="java" contentType="text/html; charset=UTF-8"   pageEncoding="UTF-8"%>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Insert title here</title>

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.1.0.min.js"></script>

<script>

$(function() {
    $("#call").click(function() {
      	var xhr = new XMLHttpRequest();
    	var data = {
    			"json.id": "123",
    			"json.type": "todo",
    	}
    	xhr.open("POST","TestAjax",true);
    	xhr.send(data);
<%--
      $.ajax({
        type:"POST",
        url:"/webapiexam/TestAjax",
        /* contentType: "application/x-www-form-urlencoded; charset=utf-8", */ 
        data: data,
        datatype:"json",
        success: function(data) {
          alert(data.result);			
        },
        error: function(e) {
          alert("에러발생");
        }			
      });
      --%>
    });
  });

</script>

</head>

<body>
  <form id="form1">
    <input type="text" name="val" value="ajax 테스트" id="val"></input>
    <input type="text" name="num" value="12345" id="num"></input>
    <input type="button" value="호출" id="call"></input>
  </form>
</body>

</html>
